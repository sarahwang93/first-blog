import { makeEnvironmentProviders } from '@angular/core';
import { CONFIG_TOKEN, INDEXED_DB } from './ngx-indexed-db.meta';
import { NgxIndexedDBService } from './ngx-indexed-db.service';
import { indexedDbFactory } from '../ssr';
export const provideIndexedDb = (...dbConfigs) => {
    return makeEnvironmentProviders([..._provideIndexedDb(...dbConfigs)]);
};
export const _provideIndexedDb = (...dbConfigs) => {
    const configs = dbConfigs.reduce((acc, curr) => {
        acc[curr.name] = curr;
        return acc;
    }, {});
    return [
        NgxIndexedDBService,
        { provide: CONFIG_TOKEN, useValue: configs },
        { provide: INDEXED_DB, useFactory: indexedDbFactory },
    ];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZS1pbmRleGVkLWRiLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWluZGV4ZWQtZGIvc3JjL2xpYi9wcm92aWRlLWluZGV4ZWQtZGIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHdCQUF3QixFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ25FLE9BQU8sRUFBWSxZQUFZLEVBQUUsVUFBVSxFQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBQzlGLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUUxQyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsU0FBcUIsRUFBRSxFQUFFO0lBQzNELE9BQU8sd0JBQXdCLENBQUMsQ0FBQyxHQUFHLGlCQUFpQixDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hFLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBRyxTQUFxQixFQUFjLEVBQUU7SUFDeEUsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBMkIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7UUFDdkUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDdEIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDUCxPQUFPO1FBQ0wsbUJBQW1CO1FBQ25CLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO1FBQzVDLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUU7S0FDdEQsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2VFbnZpcm9ubWVudFByb3ZpZGVycywgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERCQ29uZmlnLCBDT05GSUdfVE9LRU4sIElOREVYRURfREIsIFNFUlZFUl9JTkRFWEVEX0RCIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcbmltcG9ydCB7IE5neEluZGV4ZWREQlNlcnZpY2UgfSBmcm9tICcuL25neC1pbmRleGVkLWRiLnNlcnZpY2UnO1xuaW1wb3J0IHsgaW5kZXhlZERiRmFjdG9yeSB9IGZyb20gJy4uL3Nzcic7XG5cbmV4cG9ydCBjb25zdCBwcm92aWRlSW5kZXhlZERiID0gKC4uLmRiQ29uZmlnczogREJDb25maWdbXSkgPT4ge1xuICByZXR1cm4gbWFrZUVudmlyb25tZW50UHJvdmlkZXJzKFsuLi5fcHJvdmlkZUluZGV4ZWREYiguLi5kYkNvbmZpZ3MpXSk7XG59O1xuXG5leHBvcnQgY29uc3QgX3Byb3ZpZGVJbmRleGVkRGIgPSAoLi4uZGJDb25maWdzOiBEQkNvbmZpZ1tdKTogUHJvdmlkZXJbXSA9PiB7XG4gIGNvbnN0IGNvbmZpZ3MgPSBkYkNvbmZpZ3MucmVkdWNlPFJlY29yZDxzdHJpbmcsIERCQ29uZmlnPj4oKGFjYywgY3VycikgPT4ge1xuICAgIGFjY1tjdXJyLm5hbWVdID0gY3VycjtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBbXG4gICAgTmd4SW5kZXhlZERCU2VydmljZSxcbiAgICB7IHByb3ZpZGU6IENPTkZJR19UT0tFTiwgdXNlVmFsdWU6IGNvbmZpZ3MgfSxcbiAgICB7IHByb3ZpZGU6IElOREVYRURfREIsIHVzZUZhY3Rvcnk6IGluZGV4ZWREYkZhY3RvcnkgfSxcbiAgXTtcbn07XG4iXX0=